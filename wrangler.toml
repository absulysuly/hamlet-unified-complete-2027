# Cloudflare configuration
name = "hamlet-backend-gateway"
main = "_worker.js"
compatibility_date = "2024-11-02"

# Environment variables
[env.production]
name = "hamlet-backend-gateway"

[env.production.vars]
RAILWAY_BACKEND_URL = "https://hamlet-unified-complete-2027-production.up.railway.app"

# Optional: Configure backup backend
# BACKUP_BACKEND_URL = "https://backup-backend.example.com"

# Routes - Deploy to your custom domain or workers.dev subdomain
# Uncomment and configure your domain
# routes = [
#   { pattern = "api.iraq-election.com/*", zone_name = "iraq-election.com" }
# ]

# Development configuration
[env.development]
name = "hamlet-backend-gateway-dev"

[env.development.vars]
RAILWAY_BACKEND_URL = "https://hamlet-unified-complete-2027-production.up.railway.app"
